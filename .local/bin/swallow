#!/bin/sh
# Stolen from Swindles
COMMAND="$*"
BINARY="$(printf '%s' "$COMMAND" | sed 's/ .*//')"
ARGS="$(printf '%s' "$COMMAND" | sed "s/$BINARY //")"

main() {
	WINID=$(xdo id)
	xdo hide $WINID
	$BINARY "$ARGS" || $BINARY $ARGS
	xdo show $WINID
}

[ -n "$1" ] && main "$@" || printf "Error: You must provide at least one argument.\nExample usage: swallow mpv ~/videos/AmericanPsycho.mkv\n"
